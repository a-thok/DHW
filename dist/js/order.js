!function(e){function d(a){if(t[a])return t[a].exports;var o=t[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,d),o.loaded=!0,o.exports}var t={};return d.m=e,d.c=t,d.p="//cdn.dreamhiway.com/static/",d(0)}({0:function(e,d,t){e.exports=t(94)},94:function(e,d){"use strict";function t(e){var d=$("#province").val(),t=$("#province").attr("data-code"),i=$("#city").val(),c=$("#city").attr("data-code"),r=$("#county").val(),n=$("#county").attr("data-code"),s=$("#address").val(),l=$("#code").val(),m=$("#name").val(),u=$("#mobile").val(),v=$("#quhao").val(),f=$("#phone").val(),h=$("#fenji").val(),_=v+f+h;if($("#default").is(":checked"))var p=!0;else p=!1;var y={province:{name:d,code:t},city:{name:i,code:c},district:{name:r,code:n}};o.model.name=m,o.model.code=l,o.model.address=s,o.model.mobile=u,o.model.tel=_,o.model.area=y,o.model.isDefault=p,$.ajax({url:e,type:"POST",contentType:"application/json",data:JSON.stringify(o),success:function(){$(".model").hide(),$(".model_bg").hide(),$.post("/useraddr/list").success(function(e){a=e.result;var d=template("addressTem",e);$(".address_tem").html(d)})}})}$(".model_cancel").click(function(){$(".orderFinish_model").hide(),$(".orderFinish_model_bg").hide()}),$(".model_cancel").click(function(){$(".model").hide(),$(".model_bg").hide()});var a=[],o={model:{}};$.post("/useraddr/list").success(function(e){a=e.result;var d=template("addressTem",e);$(".address_tem").html(d),$(".address_tem").on("click","#modify",function(){var e=$(this).attr("data-id");o.model.id=e,$(".newaddrForm_btn").removeClass("addNewAddr").addClass("addrModify");for(var e=parseInt($(this).attr("data-id")),d=0,t=a.length;t>d;d++)if(e===a[d].id){if($("#province").val(a[d].province_name),$("#city").val(a[d].city_name),$("#county").val(a[d].district_name),$("#province").attr("data-code",a[d].province_code),$("#city").attr("data-code",a[d].city_code),$("#county").attr("data-code",a[d].district_code),$("#address").val(a[d].address),$("#code").val(a[d].code),$("#name").val(a[d].name),$("#mobile").val(a[d].mobile),a[d].tel){var i=a[d].tel.split("-");$("#quhao").val(i[0]),$("#phone").val(i[1]),$("#fenji").val(i[2])}a[d].isDefault===!0&&$("#default").attr("checked","checked")}})}),$(".invoice").click(function(){var e=$(this).index();$(".invoice i").removeClass("selected_icon").eq(e).addClass("selected_icon"),$(".notNeed_invo").hasClass("selected_icon")&&$(".invoiceInput").attr("disabled","disabled"),$(".need_invo").hasClass("selected_icon")&&$(".invoiceInput").removeAttr("disabled")}),$(".address_tem").on("mouseover",".areaSelect",function(){$(this).addClass("selected_addr")}),$(".address_tem").on("mouseout",".areaSelect",function(){return $(this).hasClass("confirm")?!1:void $(this).removeClass("selected_addr")}),$(".address_tem").on("click",".areaSelect",function(){var e=$(this).index();$(".areaSelect").removeClass("confirm selected_addr").eq(e).addClass("confirm selected_addr")});var i=[],c=[];$.getJSON(dhw.urlmain+"/Dict/city2?callback=?",function(e){for(var d=e.result,t=0,a=d.length;a>t;t++){var o=d[t].name,r=d[t].code,n='<li data-code="'+r+'">'+o+"</li>";$(".addr_province").append(n)}$(".addr_province li").click(function(){i=[],$(".addr_city").empty();var e=$(this).html();$("#province").val(e);for(var t=0,a=d.length;a>t;t++)e===d[t].name&&(i=d[t].citys);for(var t=0,o=i.length;o>t;t++){var c=i[t].name,r=i[t].code,n='<li data-code="'+r+'">'+c+"</li>";$(".addr_city").append(n)}$(".addr_province").hide(),$(".addr_city").show(),$("#province").attr("data-code",$(this).attr("data-code"))}),$(".addr_city").on("click","li",function(){c=[],$(".addr_county").empty();var e=$(this).html();$("#city").val(e);for(var d=0,t=i.length;t>d;d++)e===i[d].name&&(c=i[d].districts);for(var d=0,a=c.length;a>d;d++){var o=c[d].name,r=c[d].code,n='<li data-code="'+r+'">'+o+"</li>";$(".addr_county").append(n)}$(".addr_city").hide(),$(".addr_county").show(),$("#city").attr("data-code",$(this).attr("data-code"))}),$(".addr_county").on("click","li",function(){var e=$(this).html();$("#county").val(e),$(".addr_county").hide(),$("#county").attr("data-code",$(this).attr("data-code"))}),$("#province").click(function(){$(".addr_province").show(),$("#city").val(""),$("#county").val("")}),$("#city").click(function(){$(".addr_city").show()}),$("#county").click(function(){$(".addr_county").show()})}),$(".address_tem").on("click","#modify",function(){$(".model_bg").show(),$(".model").show()}),$(".orderfill_cont").on("click",".newAddr",function(){$(".model_bg").show(),$(".model").show(),document.getElementById("addrForm").reset()}),$(".address_tem").on("click","#delete",function(){var e=confirm("是否确定删除?");if(e){var d=$(this).siblings("#modify").attr("data-id");$.post("/useraddr/del",{id:d}).success(function(){$.post("/useraddr/list").success(function(e){a=e.result;var d=template("addressTem",e);$(".address_tem").html(d)})})}}),$(".address_tem").on("click",".operate_items_grey",function(){var e=$(this).siblings("#modify").attr("data-id");$.post("/useraddr/setdefault",{id:e}).success(function(){})}),$(".orderfill_cont").on("click",".newAddr",function(){$(".newaddrForm_btn").removeClass("addrModify").addClass("addNewAddr")}),$(".model_cont").on("click",".addrModify",function(){t("/useraddr/edit")}),$(".model_cont").on("click",".addNewAddr",function(){t("/useraddr/add")}),$(".nextBtn_btn").click(function(){var e,d=$(".confirm"),t=d.find(".orderfill_name").html(),a=d.find(".orderfill_phone").html(),o=d.find(".orderfill_addr").text(),i=d.find(".district_name").attr("data-code"),c=$(".invoiceInput").val(),r=$(".invoiceInput_long").val();$(".need_invo").hasClass("selected_icon")&&(e=!0),$(".notNeed_invo").hasClass("selected_icon")&&(c=null,e=!1);var n={model:{receiveName:t,receivePhone:a,receiveAddress:o,districtCode:i,remark:r,ttid:ttid}};$.ajax({url:"/sys/rshop/OrderBuyer/Add",type:"POST",contentType:"application/json",data:JSON.stringify(n),success:function(e){var d=e.result.id;$.post("/order/rshop1/add",{projectID:d}).success(function(e){var d=e.result.number;window.location.href="/order/rshop1/pay2/"+d})}})}),$(".model_cancel").click(function(){$(".model").hide(),$(".model_bg").hide()}),$(".model_cancel").click(function(){$(".orderFinish_model").hide(),$(".orderFinish_model_bg").hide()})}});
//# sourceMappingURL=order.js.map