{"version":3,"sources":["webpack:///js/order.js","webpack:///webpack/bootstrap 9482e758faaa11d4a87b?1d59********","webpack:///./src/usercenter/js/order/order.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p",0,94,"address","path","province","$","val","province_code","attr","city","city_code","county","county_code","code","name","mobile","quhao","phone","fenji","tel","is","isDefault","area","district","para","model","ajax","url","type","contentType","data","JSON","stringify","success","hide","post","addrData","result","html","template","click","ttid","on","this","removeClass","addClass","parseInt","i","len","length","province_name","city_name","district_name","district_code","split","index","eq","hasClass","removeAttr","cities","counties","getJSON","dhw","urlmain","provinces","pLen","content","append","empty","citys","cLen","show","districts","coLen","document","getElementById","reset","conf","confirm","siblings","isinvoice","confirm_addr","receiveName","find","receivePhone","receiveAddress","text","districtCode","invoicehead","remark","projectID","orderno","number","window","location","href"],"mappings":"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","file":"js/order.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"//cdn.dreamhiway.com/static/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(94);\n\n\n/***/ },\n\n/***/ 94:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// 关闭弹出层\n\t$('.model_cancel').click(function () {\n\t  $('.orderFinish_model').hide();\n\t  $('.orderFinish_model_bg').hide();\n\t});\n\t$('.model_cancel').click(function () {\n\t  $('.model').hide();\n\t  $('.model_bg').hide();\n\t});\n\t\n\tvar addrData = [];\n\tvar para = {\n\t  model: {}\n\t};\n\tvar ttid = 1;\n\t\n\t// 读取数据\n\t$.post('/useraddr/list').success(function (data) {\n\t  addrData = data.result;\n\t  var html = template('addressTem', data);\n\t  $('.address_tem').html(html);\n\t  $('.address_tem').on('click', '#modify', function () {\n\t    var id = $(this).attr('data-id');\n\t    para.model.id = id;\n\t    $('.newaddrForm_btn').removeClass('addNewAddr').addClass('addrModify');\n\t    var id = parseInt($(this).attr('data-id'));\n\t    for (var i = 0, len = addrData.length; i < len; i++) {\n\t      if (id === addrData[i].id) {\n\t        $('#province').val(addrData[i].province_name);\n\t        $('#city').val(addrData[i].city_name);\n\t        $('#county').val(addrData[i].district_name);\n\t        $('#province').attr('data-code', addrData[i].province_code);\n\t        $('#city').attr('data-code', addrData[i].city_code);\n\t        $('#county').attr('data-code', addrData[i].district_code);\n\t        $('#address').val(addrData[i].address);\n\t        $('#code').val(addrData[i].code);\n\t        $('#name').val(addrData[i].name);\n\t        $('#mobile').val(addrData[i].mobile);\n\t        if (addrData[i].tel) {\n\t          var tel = addrData[i].tel.split('-');\n\t          $('#quhao').val(tel[0]);\n\t          $('#phone').val(tel[1]);\n\t          $('#fenji').val(tel[2]);\n\t        }\n\t        if (addrData[i].isDefault === true) {\n\t          $('#default').attr('checked', 'checked');\n\t        }\n\t      }\n\t    }\n\t  });\n\t});\n\t\n\t// 默认地址与发票的选择\n\t\n\t$('.invoice').click(function () {\n\t  var index = $(this).index();\n\t  $('.invoice i').removeClass('selected_icon').eq(index).addClass('selected_icon');\n\t  if ($('.notNeed_invo').hasClass('selected_icon')) {\n\t    $('.invoiceInput').attr('disabled', 'disabled');\n\t  }\n\t  if ($('.need_invo').hasClass('selected_icon')) {\n\t    $('.invoiceInput').removeAttr('disabled');\n\t  }\n\t});\n\t$('.address_tem').on('mouseover', '.areaSelect', function () {\n\t  $(this).addClass('selected_addr');\n\t});\n\t$('.address_tem').on('mouseout', '.areaSelect', function () {\n\t  if ($(this).hasClass('confirm')) {\n\t    return false;\n\t  }\n\t  $(this).removeClass('selected_addr');\n\t});\n\t$('.address_tem').on('click', '.areaSelect', function () {\n\t  var index = $(this).index();\n\t  $('.areaSelect').removeClass('confirm selected_addr').eq(index).addClass('confirm selected_addr');\n\t});\n\t\n\t// 地区的选择\n\t\n\tvar provinces = [];\n\tvar cities = [];\n\tvar counties = [];\n\t$.getJSON(dhw.urlmain + '/Dict/city2?callback=?', function (data) {\n\t  var provinces = data.result;\n\t  // 循环取得省\n\t  for (var i = 0, pLen = provinces.length; i < pLen; i++) {\n\t    var content = provinces[i].name;\n\t    var code = provinces[i].code;\n\t    var html = '<li data-code=\"' + code + '\">' + content + '</li>';\n\t    $('.addr_province').append(html);\n\t  }\n\t  // 循环取得市\n\t  $('.addr_province li').click(function () {\n\t    cities = [];\n\t    $('.addr_city').empty();\n\t    var province = $(this).html();\n\t    $('#province').val(province);\n\t    for (var i = 0, len = provinces.length; i < len; i++) {\n\t      if (province === provinces[i].name) {\n\t        cities = provinces[i].citys;\n\t      }\n\t    }\n\t    for (var i = 0, cLen = cities.length; i < cLen; i++) {\n\t      var content = cities[i].name;\n\t      var code = cities[i].code;\n\t      var html = '<li data-code=\"' + code + '\">' + content + '</li>';\n\t      $('.addr_city').append(html);\n\t    }\n\t    $('.addr_province').hide();\n\t    $('.addr_city').show();\n\t    $('#province').attr('data-code', $(this).attr('data-code'));\n\t  });\n\t  // 循环取得县\n\t  $('.addr_city').on('click', 'li', function () {\n\t    counties = [];\n\t    $('.addr_county').empty();\n\t    var city = $(this).html();\n\t    $('#city').val(city);\n\t    for (var i = 0, cLen = cities.length; i < cLen; i++) {\n\t      if (city === cities[i].name) {\n\t        counties = cities[i].districts;\n\t      }\n\t    }\n\t    for (var i = 0, coLen = counties.length; i < coLen; i++) {\n\t      var content = counties[i].name;\n\t      var code = counties[i].code;\n\t      var html = '<li data-code=\"' + code + '\">' + content + '</li>';\n\t      $('.addr_county').append(html);\n\t    }\n\t    $('.addr_city').hide();\n\t    $('.addr_county').show();\n\t    $('#city').attr('data-code', $(this).attr('data-code'));\n\t  });\n\t\n\t  $('.addr_county').on('click', 'li', function () {\n\t    var county = $(this).html();\n\t    $('#county').val(county);\n\t    $('.addr_county').hide();\n\t    $('#county').attr('data-code', $(this).attr('data-code'));\n\t  });\n\t\n\t  $('#province').click(function () {\n\t    $('.addr_province').show();\n\t    $('#city').val('');\n\t    $('#county').val('');\n\t  });\n\t  $('#city').click(function () {\n\t    $('.addr_city').show();\n\t  });\n\t  $('#county').click(function () {\n\t    $('.addr_county').show();\n\t  });\n\t});\n\t\n\t// 点击修改与添加新地址\n\t$('.address_tem').on('click', '#modify', function () {\n\t  $('.model_bg').show();\n\t  $('.model').show();\n\t});\n\t$('.orderfill_cont').on('click', '.newAddr', function () {\n\t  $('.model_bg').show();\n\t  $('.model').show();\n\t  document.getElementById('addrForm').reset();\n\t});\n\t\n\t// 删除数据\n\t$('.address_tem').on('click', '#delete', function () {\n\t  var conf = confirm('是否确定删除?');\n\t  if (conf) {\n\t    var id = $(this).siblings('#modify').attr('data-id');\n\t    $.post('/useraddr/del', { id: id }).success(function () {\n\t      $.post('/useraddr/list').success(function (data) {\n\t        addrData = data.result;\n\t        var html = template('addressTem', data);\n\t        $('.address_tem').html(html);\n\t      });\n\t    });\n\t  }\n\t});\n\t\n\t// 设置默认地址\n\t$('.address_tem').on('click', '.operate_items_grey', function () {\n\t  var id = $(this).siblings('#modify').attr('data-id');\n\t  $.post('/useraddr/setdefault', { id: id }).success(function () {});\n\t});\n\t\n\t// 地址的修改与保存\n\t\n\t$('.orderfill_cont').on('click', '.newAddr', function () {\n\t  $('.newaddrForm_btn').removeClass('addrModify').addClass('addNewAddr');\n\t});\n\t\n\tfunction address(path) {\n\t  var province = $('#province').val();\n\t  var province_code = $('#province').attr('data-code');\n\t  var city = $('#city').val();\n\t  var city_code = $('#city').attr('data-code');\n\t  var county = $('#county').val();\n\t  var county_code = $('#county').attr('data-code');\n\t  var address = $('#address').val();\n\t  var code = $('#code').val();\n\t  var name = $('#name').val();\n\t  var mobile = $('#mobile').val();\n\t  var quhao = $('#quhao').val();\n\t  var phone = $('#phone').val();\n\t  var fenji = $('#fenji').val();\n\t  var tel = quhao + phone + fenji;\n\t  if ($('#default').is(':checked')) {\n\t    var isDefault = true;\n\t  } else {\n\t    isDefault = false;\n\t  }\n\t  var area = {\n\t    province: {\n\t      name: province,\n\t      code: province_code\n\t    },\n\t    city: {\n\t      name: city,\n\t      code: city_code\n\t    },\n\t    district: {\n\t      name: county,\n\t      code: county_code\n\t    }\n\t  };\n\t  para.model.name = name;\n\t  para.model.code = code;\n\t  para.model.address = address;\n\t  para.model.mobile = mobile;\n\t  para.model.tel = tel;\n\t  para.model.area = area;\n\t  para.model.isDefault = isDefault;\n\t  $.ajax({\n\t    url: path,\n\t    type: 'POST',\n\t    contentType: 'application/json',\n\t    data: JSON.stringify(para),\n\t    success: function success() {\n\t      $('.model').hide();\n\t      $('.model_bg').hide();\n\t      $.post('/useraddr/list').success(function (data) {\n\t        addrData = data.result;\n\t        var html = template('addressTem', data);\n\t        $('.address_tem').html(html);\n\t      });\n\t    }\n\t  });\n\t}\n\t\n\t$('.model_cont').on('click', '.addrModify', function () {\n\t  address('/useraddr/edit');\n\t});\n\t\n\t$('.model_cont').on('click', '.addNewAddr', function () {\n\t  address('/useraddr/add');\n\t});\n\t\n\t// 订单生成\n\t$('.nextBtn_btn').click(function () {\n\t  var confirm_addr = $('.confirm');\n\t  var receiveName = confirm_addr.find('.orderfill_name').html();\n\t  var receivePhone = confirm_addr.find('.orderfill_phone').html();\n\t  var receiveAddress = confirm_addr.find('.orderfill_addr').text();\n\t  var districtCode = confirm_addr.find('.district_name').attr('data-code');\n\t  var invoicehead = $('.invoiceInput').val();\n\t  var remark = $('.invoiceInput_long').val();\n\t  var isinvoice;\n\t  if ($('.need_invo').hasClass('selected_icon')) {\n\t    isinvoice = true;\n\t  }\n\t  if ($('.notNeed_invo').hasClass('selected_icon')) {\n\t    invoicehead = null;\n\t    isinvoice = false;\n\t  }\n\t  var para = {\n\t    model: {\n\t      receiveName: receiveName,\n\t      receivePhone: receivePhone,\n\t      receiveAddress: receiveAddress,\n\t      districtCode: districtCode,\n\t      remark: remark,\n\t      ttid: ttid\n\t    }\n\t  };\n\t  $.ajax({\n\t    url: '/sys/rshop/OrderBuyer/Add',\n\t    type: 'POST',\n\t    contentType: 'application/json',\n\t    data: JSON.stringify(para),\n\t    success: function success(data) {\n\t      var id = data.result.id;\n\t      $.post('/order/rshop1/add', { projectID: orderno }).success(function (data) {\n\t        var orderno = data.result.number;\n\t        window.location.href = '/pay2/' + orderno;\n\t      });\n\t    }\n\t  });\n\t});\n\t\n\t$('.model_cancel').click(function () {\n\t  $('.model').hide();\n\t  $('.model_bg').hide();\n\t});\n\t$('.model_cancel').click(function () {\n\t  $('.orderFinish_model').hide();\n\t  $('.orderFinish_model_bg').hide();\n\t});\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** js/order.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"//cdn.dreamhiway.com/static/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9482e758faaa11d4a87b\n **/","// 关闭弹出层\r\n$('.model_cancel').click(function () {\r\n  $('.orderFinish_model').hide();\r\n  $('.orderFinish_model_bg').hide();\r\n})\r\n$('.model_cancel').click(function () {\r\n  $('.model').hide();\r\n  $('.model_bg').hide();\r\n})\r\n\r\nvar addrData = [];\r\nvar para = {\r\n  model: {}\r\n};\r\nvar ttid = 1;\r\n\r\n\r\n// 读取数据\r\n$.post('/useraddr/list').success(function (data) {\r\n  addrData = data.result;\r\n  var html = template('addressTem', data);\r\n  $('.address_tem').html(html)\r\n  $('.address_tem').on('click', '#modify', function () {\r\n    var id = $(this).attr('data-id');\r\n    para.model.id = id;\r\n    $('.newaddrForm_btn').removeClass('addNewAddr').addClass('addrModify');\r\n    var id = parseInt($(this).attr('data-id'));\r\n    for (var i = 0, len = addrData.length; i < len; i++) {\r\n      if (id === addrData[i].id) {\r\n        $('#province').val(addrData[i].province_name);\r\n        $('#city').val(addrData[i].city_name);\r\n        $('#county').val(addrData[i].district_name);\r\n        $('#province').attr('data-code', addrData[i].province_code);\r\n        $('#city').attr('data-code', addrData[i].city_code);\r\n        $('#county').attr('data-code', addrData[i].district_code);\r\n        $('#address').val(addrData[i].address);\r\n        $('#code').val(addrData[i].code);\r\n        $('#name').val(addrData[i].name);\r\n        $('#mobile').val(addrData[i].mobile);\r\n        if (addrData[i].tel) {\r\n          var tel = addrData[i].tel.split('-');\r\n          $('#quhao').val(tel[0]);\r\n          $('#phone').val(tel[1]);\r\n          $('#fenji').val(tel[2]);\r\n        }\r\n        if (addrData[i].isDefault === true) {\r\n          $('#default').attr('checked', 'checked')\r\n        }\r\n\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\n// 默认地址与发票的选择\r\n\r\n$('.invoice').click(function () {\r\n  var index = $(this).index();\r\n  $('.invoice i').removeClass('selected_icon').eq(index).addClass('selected_icon');\r\n  if ($('.notNeed_invo').hasClass('selected_icon')) {\r\n    $('.invoiceInput').attr('disabled', 'disabled')\r\n  }\r\n  if ($('.need_invo').hasClass('selected_icon')) {\r\n    $('.invoiceInput').removeAttr('disabled')\r\n  }\r\n})\r\n$('.address_tem').on('mouseover', '.areaSelect', function () {\r\n  $(this).addClass('selected_addr');\r\n})\r\n$('.address_tem').on('mouseout', '.areaSelect', function () {\r\n  if ($(this).hasClass('confirm')) {\r\n    return false;\r\n  }\r\n  $(this).removeClass('selected_addr');\r\n})\r\n$('.address_tem').on('click', '.areaSelect', function () {\r\n  var index = $(this).index();\r\n  $('.areaSelect').removeClass('confirm selected_addr').eq(index).addClass('confirm selected_addr');\r\n})\r\n\r\n\r\n// 地区的选择\r\n\r\nvar provinces = [];\r\nvar cities = [];\r\nvar counties = [];\r\n$.getJSON(dhw.urlmain + '/Dict/city2?callback=?', function (data) {\r\n  var provinces = data.result;\r\n  // 循环取得省\r\n  for (var i = 0, pLen = provinces.length; i < pLen; i++) {\r\n    var content = provinces[i].name;\r\n    var code = provinces[i].code;\r\n    var html = '<li data-code=\"' + code + '\">' + content + '</li>'\r\n    $('.addr_province').append(html);\r\n  }\r\n  // 循环取得市\r\n  $('.addr_province li').click(function () {\r\n    cities = [];\r\n    $('.addr_city').empty();\r\n    var province = $(this).html();\r\n    $('#province').val(province);\r\n    for (var i = 0, len = provinces.length; i < len; i++) {\r\n      if (province === provinces[i].name) {\r\n        cities = provinces[i].citys;\r\n      }\r\n    }\r\n    for (var i = 0, cLen = cities.length; i < cLen; i++) {\r\n      var content = cities[i].name;\r\n      var code = cities[i].code;\r\n      var html = '<li data-code=\"' + code + '\">' + content + '</li>'\r\n      $('.addr_city').append(html);\r\n    }\r\n    $('.addr_province').hide();\r\n    $('.addr_city').show();\r\n    $('#province').attr('data-code', $(this).attr('data-code'));\r\n  })\r\n  // 循环取得县\r\n  $('.addr_city').on('click', 'li', function () {\r\n    counties = [];\r\n    $('.addr_county').empty();\r\n    var city = $(this).html();\r\n    $('#city').val(city);\r\n    for (var i = 0, cLen = cities.length; i < cLen; i++) {\r\n      if (city === cities[i].name) {\r\n        counties = cities[i].districts\r\n      }\r\n    }\r\n    for (var i = 0, coLen = counties.length; i < coLen; i++) {\r\n      var content = counties[i].name;\r\n      var code = counties[i].code;\r\n      var html = '<li data-code=\"' + code + '\">' + content + '</li>'\r\n      $('.addr_county').append(html);\r\n    }\r\n    $('.addr_city').hide();\r\n    $('.addr_county').show();\r\n    $('#city').attr('data-code', $(this).attr('data-code'));\r\n  })\r\n\r\n  $('.addr_county').on('click', 'li', function () {\r\n    var county = $(this).html()\r\n    $('#county').val(county)\r\n    $('.addr_county').hide();\r\n    $('#county').attr('data-code', $(this).attr('data-code'));\r\n  })\r\n\r\n  $('#province').click(function () {\r\n    $('.addr_province').show();\r\n    $('#city').val('');\r\n    $('#county').val('');\r\n  })\r\n  $('#city').click(function () {\r\n    $('.addr_city').show();\r\n  })\r\n  $('#county').click(function () {\r\n    $('.addr_county').show();\r\n  })\r\n})\r\n\r\n// 点击修改与添加新地址\r\n$('.address_tem').on('click', '#modify', function () {\r\n  $('.model_bg').show();\r\n  $('.model').show();\r\n})\r\n$('.orderfill_cont').on('click', '.newAddr', function () {\r\n  $('.model_bg').show();\r\n  $('.model').show();\r\n  document.getElementById('addrForm').reset();\r\n})\r\n\r\n// 删除数据\r\n$('.address_tem').on('click', '#delete', function () {\r\n  var conf = confirm('是否确定删除?');\r\n  if (conf) {\r\n    var id = $(this).siblings('#modify').attr('data-id')\r\n    $.post('/useraddr/del', { id: id }).success(function () {\r\n      $.post('/useraddr/list').success(function (data) {\r\n        addrData = data.result;\r\n        var html = template('addressTem', data);\r\n        $('.address_tem').html(html)\r\n      })\r\n    })\r\n  }\r\n})\r\n\r\n// 设置默认地址\r\n$('.address_tem').on('click', '.operate_items_grey', function () {\r\n  var id = $(this).siblings('#modify').attr('data-id')\r\n  $.post('/useraddr/setdefault', { id: id }).success(function () { })\r\n})\r\n\r\n\r\n// 地址的修改与保存\r\n\r\n$('.orderfill_cont').on('click', '.newAddr', function () {\r\n  $('.newaddrForm_btn').removeClass('addrModify').addClass('addNewAddr')\r\n})\r\n\r\nfunction address(path) {\r\n  var province = $('#province').val();\r\n  var province_code = $('#province').attr('data-code');\r\n  var city = $('#city').val();\r\n  var city_code = $('#city').attr('data-code');\r\n  var county = $('#county').val();\r\n  var county_code = $('#county').attr('data-code');\r\n  var address = $('#address').val();\r\n  var code = $('#code').val();\r\n  var name = $('#name').val();\r\n  var mobile = $('#mobile').val();\r\n  var quhao = $('#quhao').val();\r\n  var phone = $('#phone').val();\r\n  var fenji = $('#fenji').val();\r\n  var tel = quhao + phone + fenji;\r\n  if ($('#default').is(':checked')) {\r\n    var isDefault = true;\r\n  }\r\n  else {\r\n    isDefault = false;\r\n  }\r\n  var area = {\r\n    province: {\r\n      name: province,\r\n      code: province_code\r\n    },\r\n    city: {\r\n      name: city,\r\n      code: city_code\r\n    },\r\n    district: {\r\n      name: county,\r\n      code: county_code\r\n    }\r\n  };\r\n  para.model.name = name;\r\n  para.model.code = code;\r\n  para.model.address = address;\r\n  para.model.mobile = mobile;\r\n  para.model.tel = tel;\r\n  para.model.area = area;\r\n  para.model.isDefault = isDefault;\r\n  $.ajax({\r\n    url: path,\r\n    type: 'POST',\r\n    contentType: 'application/json',\r\n    data: JSON.stringify(para),\r\n    success: function () {\r\n      $('.model').hide();\r\n      $('.model_bg').hide();\r\n      $.post('/useraddr/list').success(function (data) {\r\n        addrData = data.result;\r\n        var html = template('addressTem', data);\r\n        $('.address_tem').html(html)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n$('.model_cont').on('click', '.addrModify', function () {\r\n  address('/useraddr/edit');\r\n});\r\n\r\n$('.model_cont').on('click', '.addNewAddr', function () {\r\n  address('/useraddr/add');\r\n});\r\n\r\n// 订单生成\r\n$('.nextBtn_btn').click(function () {\r\n  var confirm_addr = $('.confirm')\r\n  var receiveName = confirm_addr.find('.orderfill_name').html();\r\n  var receivePhone = confirm_addr.find('.orderfill_phone').html();\r\n  var receiveAddress = confirm_addr.find('.orderfill_addr').text();\r\n  var districtCode = confirm_addr.find('.district_name').attr('data-code')\r\n  var invoicehead = $('.invoiceInput').val();\r\n  var remark = $('.invoiceInput_long').val();\r\n  var isinvoice;\r\n  if ($('.need_invo').hasClass('selected_icon')) {\r\n    isinvoice = true;\r\n  }\r\n  if ($('.notNeed_invo').hasClass('selected_icon')) {\r\n    invoicehead = null;\r\n    isinvoice = false;\r\n  }\r\n  var para = {\r\n    model: {\r\n      receiveName: receiveName,\r\n      receivePhone: receivePhone,\r\n      receiveAddress: receiveAddress,\r\n      districtCode: districtCode,\r\n      remark: remark,\r\n      ttid: ttid,\r\n    }\r\n  }\r\n  $.ajax({\r\n    url: '/sys/rshop/OrderBuyer/Add',\r\n    type: 'POST',\r\n    contentType: 'application/json',\r\n    data: JSON.stringify(para),\r\n    success: function (data) {\r\n      var id = data.result.id\r\n      $.post('/order/rshop1/add', {projectID: orderno}).success((data) => {\r\n        var orderno = data.result.number;\r\n        window.location.href = '/pay2/' + orderno;\r\n      })\r\n    }\r\n  })\r\n})\r\n\r\n$('.model_cancel').click(function () {\r\n  $('.model').hide();\r\n  $('.model_bg').hide();\r\n})\r\n$('.model_cancel').click(function () {\r\n  $('.orderFinish_model').hide();\r\n  $('.orderFinish_model_bg').hide();\r\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/usercenter/js/order/order.js\n **/"],"sourceRoot":""}